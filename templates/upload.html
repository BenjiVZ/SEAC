<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Horarios - SEAC</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #564caf;
            --secondary-color: #4a41a3;
            --accent-color: #ff6b6b;
            --text-color: #333;
            --background-color: #f0f0f0;
            --card-background: #ffffff;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .time-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .day-group {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: var(--border-radius);
        }

        .day-group h3 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="time"] {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            width: calc(100% - 22px);
            -webkit-appearance: none;
            -moz-appearance: textfield;
        }

        input[type="time"]::-webkit-calendar-picker-indicator {
            display: none;
        }

        input[type="time"]::placeholder {
            color: #999;
        }

        input[type="time"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(86, 76, 175, 0.2);
        }

        input[type="time"]:invalid {
            border-color: var(--accent-color);
        }

        .time-input-group {
            position: relative;
            margin-bottom: 1rem;
        }

        .time-input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
            font-weight: 500;
        }

        .time-format-hint {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.25rem;
        }

        input[type="file"] {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            width: 100%;
            background-color: #f9f9f9;
        }

        button[type="submit"] {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 0 auto;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        button[type="submit"]:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .alert {
            background-color: var(--accent-color);
            color: white;
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .time-inputs {
                grid-template-columns: 1fr;
            }
        }

        header {
            background-color: var(--primary-color);
            padding: 20px 0;
            box-shadow: var(--box-shadow);
        }

        header .logo {
            max-width: 150px;
            display: block;
            margin: 0 auto 20px;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
            display: flex;
            justify-content: center;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--accent-color);
        }

        .format-switch {
            margin: 20px 0;
        }

        .form-check-input {
            cursor: pointer;
            width: 3em;
        }

        .form-check-label {
            cursor: pointer;
            margin-left: 10px;
        }

        .meridian-select {
            width: auto !important;
            flex: 0 0 auto;
        }

        .time-input-group .input-group {
            display: flex;
            align-items: center;
        }
    </style>
</head>

<body>
    <header>
        <nav>
            <a href="{{ url_for('index') }}" class="logo">
                <!-- <img src="{{ url_for('static', filename='images/LOGO_SEAC-removebg.png') }}" alt="Logo SEAC"> -->
            </a>
            <ul>
                <li><a href="{{ url_for('index') }}">Inicio</a></li>
                <li><a href="#">Configurar Horarios</a></li>
                <li><a href="{{ url_for('proceso_completo') }}" class="active">Procesar Archivos</a></li>
            </ul>
        </nav>
    </header><br>
    <div class="container">
        <h1 class="text-center mb-4">Análisis de Horarios</h1>

        <div class="format-switch mb-4 text-center">
            <div class="form-check form-switch d-inline-block">
                <input class="form-check-input" type="checkbox" id="timeFormatSwitch">
                <label class="form-check-label" for="timeFormatSwitch">
                    Usar formato 24 horas
                </label>
            </div>
        </div>

        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-danger">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <form action="{{ url_for('upload_file') }}" method="post" enctype="multipart/form-data">
            <div class="mb-4">
                <label class="form-label">Archivo CSV de horarios:</label>
                <input type="file" class="form-control" name="file" accept=".csv" required>
            </div>

            <div class="time-inputs">
                <div class="day-group">
                    <h3 class="h5 mb-3">Lunes</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="lunes_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="lunes_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Martes</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="martes_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="martes_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Miércoles</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="miercoles_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="miercoles_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Jueves</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="jueves_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="jueves_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Viernes</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="viernes_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="viernes_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Sábado</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="sabado_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="sabado_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Domingo</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="domingo_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="domingo_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Feriado</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="feriado_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="feriado_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>

                <div class="day-group">
                    <h3 class="h5 mb-3">Especial</h3>
                    <div class="time-input-group">
                        <label class="form-label">Apertura:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="especial_apertura" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 08:30 AM</div>
                    </div>
                    <div class="time-input-group">
                        <label class="form-label">Cierre:</label>
                        <div class="input-group">
                            <input type="text" 
                                   class="form-control time-input" 
                                   name="especial_cierre" 
                                   required 
                                   placeholder="HH:MM"
                                   data-format="12">
                            <select class="form-select meridian-select" style="width: auto">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                        <div class="time-format-hint">Formato: 18:30 PM</div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <div class="btn-group mb-3">
                    <button type="button" class="btn" onclick="guardarHorarios()" style="
                        background-color: var(--secondary-color);
                        color: white;
                        padding: 10px 20px;
                        border: none;
                        border-radius: var(--border-radius);
                        cursor: pointer;
                        font-size: 16px;
                        margin: 0 5px;
                        transition: background-color 0.3s ease, transform 0.3s ease;">
                        Guardar Horarios
                    </button>
                    <button type="button" class="btn" onclick="cargarHorarios()" style="
                        background-color: var(--accent-color);
                        color: white;
                        padding: 10px 20px;
                        border: none;
                        border-radius: var(--border-radius);
                        cursor: pointer;
                        font-size: 16px;
                        margin: 0 5px;
                        transition: background-color 0.3s ease, transform 0.3s ease;">
                        Cargar Horarios Guardados
                    </button>
                </div>
                <div>
                    <button type="submit" class="btn btn-primary btn-lg">Analizar Horarios</button>
                </div>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    const timeFormatSwitch = document.getElementById('timeFormatSwitch');
    const timeInputs = document.querySelectorAll('.time-input');
    const meridianSelects = document.querySelectorAll('.meridian-select');

    // Función para convertir entre formatos
    function convertTime(time, meridian, to24Hour) {
        if (!time) return '';
        
        try {
            const [hours, minutes] = time.split(':').map(num => parseInt(num, 10));
            
            if (to24Hour) {
                // Convertir a formato 24 horas
                if (meridian === 'PM' && hours !== 12) {
                    return `${(hours + 12).toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
                } else if (meridian === 'AM' && hours === 12) {
                    return `00:${minutes.toString().padStart(2, '0')}`;
                }
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
            } else {
                // Convertir a formato 12 horas
                let newHours = hours;
                let newMeridian = 'AM';
                
                if (hours === 0) {
                    newHours = 12;
                } else if (hours === 12) {
                    newMeridian = 'PM';
                } else if (hours > 12) {
                    newHours = hours - 12;
                    newMeridian = 'PM';
                }
                
                return {
                    time: `${newHours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`,
                    meridian: newMeridian
                };
            }
        } catch (e) {
            return to24Hour ? '' : { time: '', meridian: 'AM' };
        }
    }

    // Función para validar el formato de tiempo
    function validateTimeInput(input, is24Hour) {
        const value = input.value;
        let isValid = false;
        
        if (is24Hour) {
            isValid = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(value);
        } else {
            isValid = /^(0?[1-9]|1[0-2]):[0-5][0-9]$/.test(value);
        }
        
        if (!isValid) {
            const format = is24Hour ? '24 horas (HH:MM)' : '12 horas (HH:MM)';
            input.setCustomValidity(`Por favor, use el formato ${format}`);
        } else {
            input.setCustomValidity('');
        }
        
        return isValid;
    }

    // Manejar el cambio de formato
    timeFormatSwitch.addEventListener('change', function() {
        const is24Hour = this.checked;
        
        timeInputs.forEach((input, index) => {
            const meridianSelect = meridianSelects[index];
            const currentValue = input.value;
            const currentMeridian = meridianSelect.value;
            
            if (currentValue) {
                if (is24Hour) {
                    // Convertir a 24 horas
                    input.value = convertTime(currentValue, currentMeridian, true);
                    meridianSelect.style.display = 'none';
                } else {
                    // Convertir a 12 horas
                    const result = convertTime(currentValue, null, false);
                    input.value = result.time;
                    meridianSelect.value = result.meridian;
                    meridianSelect.style.display = 'block';
                }
            }
            
            input.dataset.format = is24Hour ? '24' : '12';
            const hint = input.parentElement.nextElementSibling;
            hint.textContent = `Formato: ${is24Hour ? '14:30' : '02:30 PM'}`;
        });
    });

    // Validar inputs al escribir
    timeInputs.forEach(input => {
        input.addEventListener('input', function() {
            const is24Hour = timeFormatSwitch.checked;
            validateTimeInput(this, is24Hour);
        });
    });

    // Función para guardar horarios
    function guardarHorarios() {
        const horarios = {};
        const is24Hour = timeFormatSwitch.checked;
        
        timeInputs.forEach((input, index) => {
            const name = input.name;
            const time = input.value;
            const meridian = is24Hour ? null : meridianSelects[index].value;
            
            horarios[name] = {
                time: time,
                meridian: meridian,
                format: is24Hour ? '24' : '12'
            };
        });
        
        localStorage.setItem('horariosGuardados', JSON.stringify(horarios));
        
        // Feedback visual
        const btnGuardar = event.currentTarget;
        const textoOriginal = btnGuardar.innerHTML;
        btnGuardar.innerHTML = '¡Guardado! ✓';
        btnGuardar.style.backgroundColor = '#28a745';
        
        setTimeout(() => {
            btnGuardar.innerHTML = textoOriginal;
            btnGuardar.style.backgroundColor = 'var(--secondary-color)';
        }, 1500);
    }

    // Función para cargar horarios
    function cargarHorarios() {
        const horarios = JSON.parse(localStorage.getItem('horariosGuardados'));
        if (!horarios) {
            // Feedback para error
            const btnCargar = event.currentTarget;
            btnCargar.innerHTML = 'No hay datos ✗';
            btnCargar.style.backgroundColor = '#dc3545';
            
            setTimeout(() => {
                btnCargar.innerHTML = 'Cargar Horarios';
                btnCargar.style.backgroundColor = 'var(--accent-color)';
            }, 1500);
            return;
        }
        
        // Establecer el switch al formato guardado
        const primerHorario = Object.values(horarios)[0];
        timeFormatSwitch.checked = primerHorario.format === '24';
        
        // Disparar el evento change para actualizar la interfaz
        timeFormatSwitch.dispatchEvent(new Event('change'));
        
        // Cargar los valores
        Object.entries(horarios).forEach(([name, data]) => {
            const input = document.querySelector(`input[name="${name}"]`);
            const meridianSelect = input.nextElementSibling;
            
            if (input) {
                input.value = data.time;
                if (data.meridian) {
                    meridianSelect.value = data.meridian;
                }
            }
        });
        
        // Feedback visual
        const btnCargar = event.currentTarget;
        btnCargar.innerHTML = '¡Cargado! ✓';
        btnCargar.style.backgroundColor = '#28a745';
        
        setTimeout(() => {
            btnCargar.innerHTML = 'Cargar Horarios';
            btnCargar.style.backgroundColor = 'var(--accent-color)';
        }, 1500);
    }

    // Agregar efectos hover con JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.btn-group .btn');
        
        buttons.forEach(button => {
            button.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            
            button.addEventListener('mouseout', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            button.addEventListener('mousedown', function() {
                this.style.transform = 'translateY(0) scale(0.98)';
            });
            
            button.addEventListener('mouseup', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });
        });
    });

    // Función para validar el formato de tiempo
    function validateTimeInput(input) {
        const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        const value = input.value;
        
        if (!timeRegex.test(value)) {
            input.setCustomValidity('Por favor, use el formato 24 horas (HH:MM)');
        } else {
            input.setCustomValidity('');
        }
    }

    // Agregar validación a todos los inputs de tiempo
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('input', () => validateTimeInput(input));
        input.addEventListener('blur', () => validateTimeInput(input));
    });

    // Agregar efectos hover con JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.btn-group .btn');
        
        buttons.forEach(button => {
            button.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            
            button.addEventListener('mouseout', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            button.addEventListener('mousedown', function() {
                this.style.transform = 'translateY(0) scale(0.98)';
            });
            
            button.addEventListener('mouseup', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });
        });
    });

    // Función para validar el formato de tiempo
    function validateTimeInput(input) {
        const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        const value = input.value;
        
        if (!timeRegex.test(value)) {
            input.setCustomValidity('Por favor, use el formato 24 horas (HH:MM)');
        } else {
            input.setCustomValidity('');
        }
    }

    // Agregar validación a todos los inputs de tiempo
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('input', () => validateTimeInput(input));
        input.addEventListener('blur', () => validateTimeInput(input));
    });

    // Agregar efectos hover con JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.btn-group .btn');
        
        buttons.forEach(button => {
            button.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            
            button.addEventListener('mouseout', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            button.addEventListener('mousedown', function() {
                this.style.transform = 'translateY(0) scale(0.98)';
            });
            
            button.addEventListener('mouseup', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });
        });
    });

    // Función para validar el formato de tiempo
    function validateTimeInput(input) {
        const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        const value = input.value;
        
        if (!timeRegex.test(value)) {
            input.setCustomValidity('Por favor, use el formato 24 horas (HH:MM)');
        } else {
            input.setCustomValidity('');
        }
    }

    // Agregar validación a todos los inputs de tiempo
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('input', () => validateTimeInput(input));
        input.addEventListener('blur', () => validateTimeInput(input));
    });

    // Agregar efectos hover con JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.btn-group .btn');
        
        buttons.forEach(button => {
            button.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            
            button.addEventListener('mouseout', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            button.addEventListener('mousedown', function() {
                this.style.transform = 'translateY(0) scale(0.98)';
            });
            
            button.addEventListener('mouseup', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });
        });
    });

    // Función para validar el formato de tiempo
    function validateTimeInput(input) {
        const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        const value = input.value;
        
        if (!timeRegex.test(value)) {
            input.setCustomValidity('Por favor, use el formato 24 horas (HH:MM)');
        } else {
            input.setCustomValidity('');
        }
    }

    // Agregar validación a todos los inputs de tiempo
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('input', () => validateTimeInput(input));
        input.addEventListener('blur', () => validateTimeInput(input));
    });

    // Agregar efectos hover con JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.btn-group .btn');
        
        buttons.forEach(button => {
            button.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            });
            
            button.addEventListener('mouseout', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            button.addEventListener('mousedown', function() {
                this.style.transform = 'translateY(0) scale(0.98)';
            });
            
            button.addEventListener('mouseup', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });
        });
    });

    // Función para validar el formato de tiempo
    function validateTimeInput(input) {
        const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        const value = input.value;
        
        if (!timeRegex.test(value)) {
            input.setCustomValidity('Por favor, use el formato 24 horas (HH:MM)');
        } else {
            input.setCustomValidity('');
        }
    }

    // Agregar validación a todos los inputs de tiempo
    document.querySelectorAll('input[type="time"]').forEach(input => {
        input.addEventListener('input', () => validateTimeInput(input));
        input.addEventListener('blur', () => validateTimeInput(input));
    });
    </script>
</body>

</html>